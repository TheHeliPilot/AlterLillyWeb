# Go to the project directory
cd /var/www/AlterLillyWeb

# Reset any local changes (safe if you only use git)
git reset --hard
git clean -fd

# Pull the latest code from Git
git pull origin main

# Install/update dependencies
npm install

# Build the Next.js project
npm run build

# Restart the Next.js server (using pm2 if you have it)
pm2 restart alterlilly || pm2 start npm --name "alterlilly" -- start

# Reload Caddy just in case (optional)
sudo systemctl reload caddy

# Show status
pm2 status
